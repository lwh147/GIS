function index_body_adminInfo_init(){$("#adminInfo-hello-adminName").text("您好，"+loggedAdminInfo.adminName+"!");$("#adminInfo-hello-email").text(loggedAdminInfo.email)}function resetAdminInfo(a){loadAdminInfoModals();if(a===0){$("#"+adminInfoModals.m0.mid).modal()}else{if(a===1){$("#"+adminInfoModals.m1.mid).modal()}else{alert("更改的用户信息类别出错!")}}}function loadAdminInfoModals(){if(!isLoaded(adminInfoModals.m0.mid)){$.ajax({url:adminInfoModalsUrl,type:"get",async:false,dataType:"html",success:function(data){$("body").append(data);$.each(adminInfoModals,function(key,value){eval(value.minit);$("#"+value.mid).on("hide.bs.modal",function(e){$("#"+value.mid+"-form").data("bootstrapValidator").resetForm(true)})})},error:function(error){alert("----ajax请求管理员信息组件下的模态框执行出错！错误信息如下：----\n"+error.responseText)}})}}function adminInfoModal0init(){$("#adminInfo-resetPassword-modal-form").bootstrapValidator({message:"*输入不合法",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"adminInfo-newPasswordInput":{message:"*密码不合法",validators:{notEmpty:{message:"*请输入新密码"},stringLength:{min:6,max:6,message:"*密码必须为6位"},callback:{callback:function(c,a,b){let checkResult={valid:true,message:"*校验成功"};if(c===loggedAdminInfo.password){checkResult.valid=false;checkResult.message="*新密码不能和旧密码相同"}if(c===loggedAdminInfo.adminName){checkResult.valid=false;checkResult.message="*密码不能和用户名相同"}return checkResult}}}},"adminInfo-newPasswordConfirm":{message:"*密码确认失败",validators:{notEmpty:{message:"*请再次输入新密码"},identical:{field:"adminInfo-newPasswordInput",message:"*两次输入的密码不相同"}}}}}).on("success.form.bv",function(a){a.preventDefault();let newPassword=$("#adminInfo-newPasswordInput").val();$("#adminInfo-resetPassword-modal-form :submit").button("loading");$.ajax({url:"",type:"post",data:{newPassword:newPassword},contentType:"application/json;charset=utf-8",async:false,dataType:"json",success:function(b){if(b==="1"){myAlert("密码修改成功，请重新登陆(∩_∩)!");logout()}else{myAlert("啊欧，密码修改失败(x_x)！");$("#adminInfo-resetPassword-modal-form :submit").button("reset")}},error:function(b){alert("----ajax请求更改密码执行出错！错误信息如下：----\n"+b.responseText)}})})}function adminInfoModal1init(){$("#adminInfo-resetEmail-modal-form").bootstrapValidator({message:"*输入不合法",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"adminInfo-newEmailInput":{message:"*邮箱不合法",validators:{notEmpty:{message:"*请输入新邮箱地址"},emailAddress:{message:"*请输入合法的邮箱地址"}}}}}).on("success.form.bv",function(e){e.preventDefault();let newEmail=$("#adminInfo-newEmailInput").val();$("#adminInfo-resetEmail-modal-form :submit").button("loading");$.ajax({url:"",type:"post",data:{newEmail:newEmail},contentType:"application/json;charset=utf-8",async:false,dataType:"json",success:function(data){if(data==="1"){myAlert("邮箱修改成功(∩_∩)!");eval(systemComponents.c5.clfn)}else{myAlert("啊欧，邮箱修改失败(x_x)！");$("#adminInfo-resetEmail-modal-form :submit").button("reset")}},error:function(error){alert("----ajax请求更改邮箱执行出错！错误信息如下：----\n"+error.responseText)}})})};